<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>GA AERA Prismic project</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="prismic-api" content="https://ga-aera.prismic.io/api">
    <meta name="prismic-oauth-client-id" content="WLYdACYAAIIAx5fm">

    <link rel='stylesheet prefetch' href='//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css'>
    <link href="ga-aera-styles.css" rel="stylesheet">

    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src='//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js'></script>
    <script src="js/ejs-1.0.js"></script>
    <script src="js/prismic.io.min.js"></script>
    <script src="js/prismic.io-singlepage-1.0.0.js"></script>

    <script>
        $(document).on('prismic:rendered', function() {
            $('.navbar').affix({
                offset: {
                    top: 50
                }
            });

            $('body').scrollspy({
                target: ".navbar"
            });
            
            $('#menuToggle, .menu-close').on('click', function() {
                $('#menuToggle').toggleClass('active');
                $('body').toggleClass('body-push-toleft');
                $('#theMenu').toggleClass('menu-open');
            });
        })
    </script>

    <script type="text/prismic-query" data-binding="content">
        [ [:d = any(document.type, ["appendix-c"]) ] ]
    </script>
</head>

<body>
    <header class="banner appendix-banner">
        <div class="banner-title">Australian Energy Resources Assessment</div>
    </header>
    
    <div class="feedback_btn">
        <a href="/aera/feedback.html"><img src="http://www.ga.gov.au/__data/assets/image/0014/41090/feedback.png" alt="Feedback link"></a>
    </div>
   
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span> 
                    <span class="icon-bar"></span> 
                    <span class="icon-bar"></span> 
                    <span class="icon-bar"></span>   
                    <span class="icon-bar"></span>   
                    <span class="icon-bar"></span>   
                    <span class="icon-bar"></span>   
                    <span class="icon-bar"></span>                          
                </button>
            </div>
            <div>
                <div class="collapse navbar-collapse" id="menu">
                    <ul class="nav navbar-nav">
                        <li role="presentation"><a href="/aera/default.html">Home</a></li>
                        <li role="presentation"><a href="/aera/executive-summary.html">Executive Summary</a></li>
                        <li role="presentation"><a href="/aera/oil.html">Oil</a></li>
                        <li role="presentation"><a href="/aera/gas.html">Gas</a></li>
                        <li role="presentation"><a href="/aera/coal.html">Coal</a></li>
                        <li role="presentation"><a href="/aera/uranium-and-thorium.html">Uranium and Thorium</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                Appendix <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li role="presentation"><a href="/aera/appendix-a.html">A: Glossary</a></li>
                                <li role="presentation"><a href="/aera/appendix-b.html">B: Resource Classification</a></li>
                                <li role="presentation" class="active"><a href="/aera/appendix-c.html">C: Measurement and Conversion</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <nav id="page-nav">
            <ul class="nav nav-pills nav-stacked" >
                <li><a href="#unit-conversion">Units</a></li>
                <li><a href="#decimal">Decimal numbering system</a></li>
                <li><a href="#energy-measurement">Energy measurement</a></li>
                <li><a href="#fuel-units">Fuel-specific to standard unit conversion factors</a></li>
                <li><a href="#energy-content">Energy content conversion factors</a></li>
            </ul>
        </nav>
        <article>
            <h1>Energy measurement and conversion factors</h1>
            <section id="appendix-c-intro">

                [%- content[0].getHtml('appendix-c.appendix-c-intro') %]
            </section>

            <section id="unit-conversion">
                <h2>Units</h2>
                <div class="table">
                    [% var units = content[0].getGroup('appendix-c.unit-conversion').toArray() %] 
                    [% units.forEach( function(row) { %]
                    <div class="tr">
                        <div class="td" data-field="Unit">
                            [%- row.getText('unit') %] </div>
                        <div class="td" data-field="Definition">
                            [%- row.getText('definition') %]</div>
                    </div>
                    [% }) %]
                </div>
            </section>

            <section id="decimal">
                <h2>Decimal numbering system</h2>

                 <div class="table"> 
                     <div class="tr">
                        <div class="th"> Multiple</div>
                        <div class="th"> Scientific exp.</div>
                        <div class="th"> Term</div>
                        <div class="th"> Abbreviation</div>                     
                    </div>


                    [% var rows = content[0].getGroup('appendix-c.decimal').toArray() %] 
                    [% rows.forEach(function(row) { %]
                    <div class="tr">
                        <div class="td" data-field="Multiple">
                            [%- row.getText('multiple') %] </div>
                        <div class="td" data-field="Exp">
                            [%- row.getText('exp') %]</div>
                        <div class="td" data-field="Term">
                            [%- row.getText('term') %]</div>
                        <div class="td" data-field="Abbreviation">
                            [%- row.getText('abbr') %]</div>
                    </div>
                    [% }) %]
                </div>
            </section>

            <section id="energy-measurement">
                <h2>Energy measurement</h2>
                
                 <div class="table">
                     <div class="tr">
                        <div class="th">Energy resource</div>
                        <div class="th">Measure</div>
                        <div class="th">Abbreviation</div>                  
                    </div>

                    [% var rows = content[0].getGroup('appendix-c.measure').toArray() %] 
                    
                    [% rows.forEach( function(row) { %]
                    <div class="tr">
                        <div class="td" data-field="Resource">
                            [%- row.getHtml('resource') %] </div>
                        <div class="td" data-field="Measure">
                            [%- row.getHtml('measure') %]</div>
                        <div class="td" data-field="Abbreviation">
                            [%- row.getText('abbr') %]</div>
                    </div>
                    [% }) %]
                </div>
            </section>

            <section id="fuel-units">
                <h2>Fuel-specific to standard unit conversion factors</h2>
                <div class="table">

                    [% var rows = content[0].get('appendix-c.fuel-units').toArray() %] 
                    [% rows.forEach( function(row) { %]
                    <div class="tr">
                        <div class="td" data-field="Fuel">
                            [%- row.getText('fuel') %]</div>
                        <div class="td" data-field="Quantity">
                            [%- row.getText('quantity') %]</div>
                        <div class="td" data-field="Conversion">
                            [%- row.getText('conversion') %] </div>
                    </div>
                    [% }) %]
                </div>
            </section>

            <section id="energy-content">
                <h2>Energy content conversion factors</h2>
                [%- content[0].getHtml('appendix-c.energy-content') %]

                <h4>a) Gaseous fuels</h4>
                <div class="table">  
                    <div class="tr">
                        <div class="th">Fuel</div>
                        <div class="th">Category</div>
                        <div class="th">PJ/bcf</div>
                        <div class="th"> MJ/m<sup>3</sup></div>                  
                    </div>          

                    [% var fuel_name, region_name %]
                    [% var rows = content[0].getGroup('appendix-c.gaseous-fuels').toArray() %] 
                    [% rows.forEach( function(row) { %]
                    <div class="tr">
                        <div class="td" data-field="Fuel">[%- (row.getText('name') == fuel_name) ? "" : fuel_name = row.getText('name') -%]</div>
                        <div class="td" data-field="Category">
                            [%- (row.getText('category')) ?  row.getText('category')  : '-' %]</div>
                        <div class="td" data-field="'pj-bcf">
                            [%- row.getText('pj-bcf') %] </div>
                        <div class="td" data-field="mj-m3">
                            [%- row.getText('mj-m3') %]</div>
                    </div>
                    [% }) %]
                </div>

                <h4>b) Liquid fuels</h4>
                 <div class="table"> 
                    <div class="tr">
                        <div class="th">Fuel</div>
                        <div class="th">Category</div>
                        <div class="th">PJ/mmbbl</div>
                        <div class="th">By volume<br/>MJ/L</div>
                        <div class="th"> By weight<br/>GJ/t</div>                  
                    </div>          

                    [% var rows = content[0].getGroup('appendix-c.liquid-fuels').toArray() %] 
                    [% console.log(rows) %]
                    [% rows.forEach( function(row) { %]
                    <div class="tr">
                        <div class="td" data-field="Fuel">[%- (row.getText('name') == fuel_name) ? "" : fuel_name = row.getText('name') -%]</div>
                        <div class="td" data-field="Category">
                            [%- (row.getText('category')) ? row.getText('category') : '-' %]</div>
                        <div class="td" data-field="'PJ/mmbbl">
                            [%- row.getText('PJ/mmbbl') %] </div>
                        <div class="td" data-field="MJ/L">
                            [%- row.getText('MJ/L') %]</div>
                        <div class="td" data-field="'GJ/t">
                            [%- row.getText('MJ/t') %] </div>
                    </div>
                    [% }) %]
                </div>

                <h4>c) Solid fuels</h4>
                 <div class="table">  
                     <div class="tr">
                        <div class="th">Fuel</div>
                        <div class="th">Region</div>
                        <div class="th">Category </div>
                        <div class="th">GJ/t</div>      
                     </div>

                    [% var rows = content[0].getGroup('appendix-c.solid-fuels').toArray() %]
                    [% rows.forEach( function(row) { %]
                    <div class="tr">
                        <div class="td" data-field="Fuel">[%= (row.getText('name') == fuel_name) ? "" : fuel_name = row.getText('name') -%]</div>
                        <div class="td" data-field="Region">[%= (row.getText('region') == region_name) ? "" : region_name = row.getText('region') -%]</div>
                        <div class="td" data-field="Category">
                            [%- (row.getText('category')) ?  row.getText('category') : '-' %]</div>
                        <div class="td" data-field="'GJ/t">
                            [%- row.getText('GJ/t') %] </div>
                    </div>
                    [% }) %]
                </div>


                    [%- content[0].getHtml('appendix-c.footnotes') %]
            </section>
        </article>
    </main>
</body>

</html>